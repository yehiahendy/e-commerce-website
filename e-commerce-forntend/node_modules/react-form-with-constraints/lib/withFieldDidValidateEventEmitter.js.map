{"version":3,"file":"withFieldDidValidateEventEmitter.js","sourceRoot":"","sources":["../src/withFieldDidValidateEventEmitter.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAG9C,MAAM,CAAC,MAAM,qBAAqB,GAAG,0BAA0B,CAAC;AAIhE,MAAM,UAAU,gCAAgC,CAAgC,IAAW;IAKzF,OAAO,MAAM,4BAA6B,SAAQ,IAAI;QAA/C;;YACL,iCAA4B,GAAG,IAAI,YAAY,EAAqC,CAAC;QAavF,CAAC;QAXC,yBAAyB,CAAC,KAAY;YACpC,OAAO,IAAI,CAAC,4BAA4B,CAAC,QAAQ,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QAClF,CAAC;QAED,gCAAgC,CAAC,QAAkB;YACjD,IAAI,CAAC,4BAA4B,CAAC,WAAW,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC;QACjF,CAAC;QAED,mCAAmC,CAAC,QAAkB;YACpD,IAAI,CAAC,4BAA4B,CAAC,cAAc,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC;QACpF,CAAC;KACF,CAAC;AACJ,CAAC","sourcesContent":["import { Constructor } from './Constructor';\nimport { EventEmitter } from './EventEmitter';\nimport { Field } from './Field';\n\nexport const FieldDidValidateEvent = 'FIELD_DID_VALIDATE_EVENT';\n\n// [TypeScript 2.2 Support for Mix-in classes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html)\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function withFieldDidValidateEventEmitter<TBase extends Constructor<{}>>(Base: TBase) {\n  type ListenerArg = Field;\n  type ListenerReturnType = void;\n  type Listener = (field: ListenerArg) => ListenerReturnType;\n\n  return class FieldDidValidateEventEmitter extends Base {\n    fieldDidValidateEventEmitter = new EventEmitter<[ListenerArg], ListenerReturnType>();\n\n    emitFieldDidValidateEvent(field: Field) {\n      return this.fieldDidValidateEventEmitter.emitSync(FieldDidValidateEvent, field);\n    }\n\n    addFieldDidValidateEventListener(listener: Listener) {\n      this.fieldDidValidateEventEmitter.addListener(FieldDidValidateEvent, listener);\n    }\n\n    removeFieldDidValidateEventListener(listener: Listener) {\n      this.fieldDidValidateEventEmitter.removeListener(FieldDidValidateEvent, listener);\n    }\n  };\n}\n"]}
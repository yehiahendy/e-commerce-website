!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactFormWithConstraints={},e.React,e.PropTypes)}(this,function(s,l,e){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var d=function(){return(d=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function c(e,t){var i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}function f(e,o,s,l){return new(s=s||Promise)(function(i,t){function n(e){try{a(l.next(e))}catch(e){t(e)}}function r(e){try{a(l.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?i(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,r)}a((l=l.apply(e,o||[])).next())})}function u(i,n){var r,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(i,s)}catch(e){t=[6,e],a=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function i(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<i;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)n[r]=a[o];return n}function o(e,t){void 0===t?console.assert(e):console.assert(e,t)}var a=(t.prototype.emitSync=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var e=this.getListeners(e),n=new Array;return e.forEach(function(e){return n.push(e.apply(void 0,t))}),n},t.prototype.emitAsync=function(o){for(var s=[],e=1;e<arguments.length;e++)s[e-1]=arguments[e];return f(this,void 0,void 0,function(){var t,i,n,r,a;return u(this,function(e){switch(e.label){case 0:t=this.getListeners(o),i=new Array,n=0,e.label=1;case 1:return n<t.length?(a=(r=i).push,[4,t[n].apply(t,s)]):[3,4];case 2:a.apply(r,[e.sent()]),e.label=3;case 3:return n++,[3,1];case 4:return[2,i]}})})},t.prototype.getListeners=function(e){var t=this.listeners.get(e);return void 0!==t?(o(0<t.length,"No listener for event '"+e+"'"),t):[]},t.prototype.addListener=function(e,t){this.listeners.has(e)||this.listeners.set(e,[]);var i=this.listeners.get(e);o(!i.includes(t),"Listener already added for event '"+e+"'"),i.push(t)},t.prototype.removeListener=function(e,t){var i=this.listeners.get(e);o(void 0!==i,"Unknown event '"+e+"'");t=i.lastIndexOf(t);o(-1<t,"Listener not found for event '"+e+"'"),i.splice(t,1),0===i.length&&this.listeners.delete(e)},t);function t(){this.listeners=new Map}(_=s.FieldFeedbackType||(s.FieldFeedbackType={})).Error="error",_.Warning="warning",_.Info="info",_.WhenValid="whenValid";var p=(h.prototype.addOrReplaceValidation=function(t){var e=this.validations.findIndex(function(e){return e.key===t.key});-1<e?this.validations[e]=t:this.validations.push(t)},h.prototype.clearValidations=function(){!function(e){for(;e.length;)e.pop()}(this.validations)},h.prototype.hasFeedbacksOfType=function(t,i){return this.validations.some(function(e){return(void 0===i||e.key.startsWith(i+"."))&&e.type===t&&!0===e.show})},h.prototype.hasErrors=function(e){return this.hasFeedbacksOfType(s.FieldFeedbackType.Error,e)},h.prototype.hasWarnings=function(e){return this.hasFeedbacksOfType(s.FieldFeedbackType.Warning,e)},h.prototype.hasInfos=function(e){return this.hasFeedbacksOfType(s.FieldFeedbackType.Info,e)},h.prototype.hasFeedbacks=function(e){return this.hasErrors(e)||this.hasWarnings(e)||this.hasInfos(e)},h.prototype.isValid=function(){return!this.hasErrors()},h);function h(e){this.name=e,this.validations=[]}(P=s.FieldEvent||(s.FieldEvent={})).Added="FIELD_ADDED",P.Removed="FIELD_REMOVED";var v,y=(r(m,v=a),m.prototype.getField=function(t){var e=this.fields.filter(function(e){return e.name===t});return 1===e.length?e[0]:void 0},m.prototype.addField=function(t){var e=this.fields.filter(function(e){return e.name===t});o(0===e.length||1===e.length,"Cannot have more than 1 field matching '"+t+"'"),0===e.length&&(e=new p(t),this.fields.push(e),this.emitSync(s.FieldEvent.Added,e))},m.prototype.removeField=function(t){var e=this.fields.filter(function(e){return e.name===t}),e=this.fields.indexOf(e[0]);-1<e&&(this.fields.splice(e,1),this.emitSync(s.FieldEvent.Removed,t))},m.prototype.isValid=function(){return this.fields.every(function(e){return e.isValid()})},m.prototype.hasFeedbacks=function(){return this.fields.some(function(e){return e.hasFeedbacks()})},m);function m(){var e=null!==v&&v.apply(this,arguments)||this;return e.fields=new Array,e}var F=function(e){this.badInput=e.badInput,this.customError=e.customError,this.patternMismatch=e.patternMismatch,this.rangeOverflow=e.rangeOverflow,this.rangeUnderflow=e.rangeUnderflow,this.stepMismatch=e.stepMismatch,this.tooLong=e.tooLong,this.tooShort=e.tooShort,this.typeMismatch=e.typeMismatch,this.valid=e.valid,this.valueMissing=e.valueMissing};function E(e){return void 0===e.props}var b=function(e){E(e)?(this.name=e.name,this.type=e.type,this.value=e.value,this.validity=new F(e.validity),this.validationMessage=e.validationMessage):(this.name=e.props.name,this.type=void 0,this.value=e.props.value,this.validity=void 0,this.validationMessage=void 0)};var g="FIELD_DID_RESET_EVENT";function k(e){return r(t,i=e),t.prototype.emitFieldDidResetEvent=function(e){return this.fieldDidResetEventEmitter.emitSync(g,e)},t.prototype.addFieldDidResetEventListener=function(e){this.fieldDidResetEventEmitter.addListener(g,e)},t.prototype.removeFieldDidResetEventListener=function(e){this.fieldDidResetEventEmitter.removeListener(g,e)},t;function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.fieldDidResetEventEmitter=new a,e}var i}var w="FIELD_DID_VALIDATE_EVENT";function V(e){return r(t,i=e),t.prototype.emitFieldDidValidateEvent=function(e){return this.fieldDidValidateEventEmitter.emitSync(w,e)},t.prototype.addFieldDidValidateEventListener=function(e){this.fieldDidValidateEventEmitter.addListener(w,e)},t.prototype.removeFieldDidValidateEventListener=function(e){this.fieldDidValidateEventEmitter.removeListener(w,e)},t;function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.fieldDidValidateEventEmitter=new a,e}var i}var D="FIELD_WILL_VALIDATE_EVENT";function L(e){return r(t,i=e),t.prototype.emitFieldWillValidateEvent=function(e){return this.fieldWillValidateEventEmitter.emitSync(D,e)},t.prototype.addFieldWillValidateEventListener=function(e){this.fieldWillValidateEventEmitter.addListener(D,e)},t.prototype.removeFieldWillValidateEventListener=function(e){this.fieldWillValidateEventEmitter.removeListener(D,e)},t;function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.fieldWillValidateEventEmitter=new a,e}var i}var S="VALIDATE_FIELD_EVENT";function R(e){return r(t,i=e),t.prototype.emitValidateFieldEvent=function(e){return this.validateFieldEventEmitter.emitAsync(S,e)},t.prototype.addValidateFieldEventListener=function(e){this.validateFieldEventEmitter.addListener(S,e)},t.prototype.removeValidateFieldEventListener=function(e){this.validateFieldEventEmitter.removeListener(S,e)},t;function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.validateFieldEventEmitter=new a,e}var i}var x,O=(r(W,x=l.PureComponent),W);function W(){return null!==x&&x.apply(this,arguments)||this}var I,T=(r(M,I=k(L(V(R(O))))),M.prototype.getChildContext=function(){return{form:this}},M.prototype.computeFieldFeedbacksKey=function(){return""+this.fieldFeedbacksKeyCounter++},M.prototype.validateFields=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._validateFields.apply(this,i([!0],e))},M.prototype.validateForm=function(){return this.validateFieldsWithoutFeedback()},M.prototype.validateFieldsWithoutFeedback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._validateFields.apply(this,i([!1],e))},M.prototype._validateFields=function(a){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return f(this,void 0,void 0,function(){var t,i,n,r;return u(this,function(e){switch(e.label){case 0:t=new Array,i=this.normalizeInputs.apply(this,o),n=0,e.label=1;case 1:return n<i.length?(r=i[n],[4,this.validateField(a,new b(r),r)]):[3,4];case 2:void 0!==(r=e.sent())&&t.push(r),e.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},M.prototype.validateField=function(n,r,a){return f(this,void 0,void 0,function(){var t,i;return u(this,function(e){switch(e.label){case 0:return i=r.name,void 0!==(t=this.fieldsStore.getField(i))?[3,1]:[3,3];case 1:return!n&&t.hasFeedbacks()?[3,3]:(t.element=a,t.clearValidations(),this.emitFieldWillValidateEvent(i),[4,this.emitValidateFieldEvent(r)]);case 2:i=e.sent(),o(JSON.stringify(i.flat(1/0).filter(function(e){return void 0!==e}))===JSON.stringify(t.validations),"FieldsStore does not match emitValidateFieldEvent() result, did the user changed the input rapidly?"),this.emitFieldDidValidateEvent(t),e.label=3;case 3:return[2,t]}})})},M.prototype.normalizeInputs=function(){for(var e,i=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?(e=(e=Array.from(this.form.querySelectorAll("[name]"))).filter(function(e){return void 0!==e.validity})).filter(function(e){return"checkbox"!==e.type&&"radio"!==e.type}).map(function(e){return e.name}).forEach(function(e,t,i){if(i.indexOf(e)!==t)throw new Error("Multiple elements matching '[name=\""+e+"\"]' inside the form")}):e=t.map(function(e){if("string"!=typeof e)return e;var t='[name="'+e+'"]',e=Array.from(i.form.querySelectorAll(t));if(0<e.filter(function(e){return void 0===e.validity}).length)throw new Error("'"+t+"' should match an <input>, <select> or <textarea>");if(1<e.filter(function(e){return"checkbox"!==e.type&&"radio"!==e.type}).length)throw new Error("Multiple elements matching '"+t+"' inside the form");e=e[0];if(void 0===e)throw new Error("Could not find field '"+t+"' inside the form");return e}),e},M.prototype.isValid=function(){return this.fieldsStore.isValid()},M.prototype.hasFeedbacks=function(){return this.fieldsStore.hasFeedbacks()},M.prototype.reset=function(){return this.resetFields()},M.prototype.resetFields=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=new Array;return this.normalizeInputs.apply(this,e).forEach(function(e){e=t.resetField(new b(e));void 0!==e&&n.push(e)}),n},M.prototype.resetField=function(e){e=e.name,e=this.fieldsStore.getField(e);return void 0===e||(e.clearValidations(),this.emitFieldDidResetEvent(e)),e},M.prototype.render=function(){var t=this;return l.createElement("form",d({ref:function(e){return t.form=e}},this.props))},M.childContextTypes={form:e.instanceOf(M).isRequired},M);function M(){var e=null!==I&&I.apply(this,arguments)||this;return e.form=null,e.fieldsStore=new y,e.fieldFeedbacksKeyCounter=0,e}var N,_=(r(C,N=l.PureComponent),C);function C(){return null!==N&&N.apply(this,arguments)||this}var A,P=(r(j,A=R(_)),j.prototype.getChildContext=function(){return{fieldFeedbacks:this}},j.prototype.computeFieldFeedbackKey=function(){return this.key+"."+this.fieldFeedbackKeyCounter++},j.prototype.addFieldFeedback=function(){return this.computeFieldFeedbackKey()},j.prototype.componentDidMount=function(){var e=this.context,t=e.form,e=e.fieldFeedbacks;t.fieldsStore.addField(this.fieldName),(e||t).addValidateFieldEventListener(this.validate)},j.prototype.componentWillUnmount=function(){var e=this.context,t=e.form,e=e.fieldFeedbacks;t.fieldsStore.removeField(this.fieldName),(e||t).removeValidateFieldEventListener(this.validate)},j.prototype._validate=function(i){return f(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,this.emitValidateFieldEvent(i)];case 1:return t=e.sent(),[2,t.flat(1/0)]}})})},j.prototype.render=function(){var e=this.props.children;return void 0!==e?e:null},j.defaultProps={stop:"first-error"},j.contextTypes={form:e.instanceOf(T).isRequired,fieldFeedbacks:e.instanceOf(j)},j.childContextTypes={fieldFeedbacks:e.instanceOf(j).isRequired},j);function j(e,t){var i=A.call(this,e,t)||this;i.fieldFeedbackKeyCounter=0,i.validate=function(r){return f(i,void 0,void 0,function(){var t,i,n;return u(this,function(e){switch(e.label){case 0:return(t=this.context,n=t.form,t=t.fieldFeedbacks,r.name!==this.fieldName)?[3,3]:(n=n.fieldsStore.getField(this.fieldName),t&&("first"===t.props.stop&&n.hasFeedbacks(t.key)||"first-error"===t.props.stop&&n.hasErrors(t.key)||"first-warning"===t.props.stop&&n.hasWarnings(t.key)||"first-info"===t.props.stop&&n.hasInfos(t.key))?[3,3]:[3,1]);case 1:return[4,this._validate(r)];case 2:i=e.sent(),e.label=3;case 3:return[2,i]}})})};var n=t.form,t=t.fieldFeedbacks;if(i.key=t?t.computeFieldFeedbackKey():n.computeFieldFeedbacksKey(),t){if(i.fieldName=t.fieldName,void 0!==e.for)throw new Error("FieldFeedbacks cannot have a parent and a 'for' prop")}else{if(void 0===e.for)throw new Error("FieldFeedbacks cannot be without parent and without 'for' prop");i.fieldName=e.for}return i}(O=s.Status||(s.Status={}))[O.None=0]="None",O[O.Pending=1]="Pending",O[O.Rejected=2]="Rejected",O[O.Resolved=3]="Resolved";var q,_=(r(U,q=l.PureComponent),U);function U(){return null!==q&&q.apply(this,arguments)||this}var K,O=(r(z,K=R(_)),z.prototype.getChildContext=function(){return{async:this}},z.prototype.componentDidMount=function(){this.context.fieldFeedbacks.addValidateFieldEventListener(this.validate)},z.prototype.componentWillUnmount=function(){this.context.fieldFeedbacks.removeValidateFieldEventListener(this.validate)},z.prototype._validate=function(i){return f(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:this.setState({status:s.Status.Pending}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.promise(i.value)];case 2:return t=e.sent(),this.setState({status:s.Status.Resolved,value:t}),[3,4];case 3:return t=e.sent(),this.setState({status:s.Status.Rejected,value:t}),[3,4];case 4:return[2,this.emitValidateFieldEvent(i)]}})})},z.prototype.render=function(){var e=this.props,t=this.state,i=null;switch(t.status){case s.Status.None:break;case s.Status.Pending:e.pending&&(i=e.pending);break;case s.Status.Resolved:e.then&&(i=e.then(t.value));break;case s.Status.Rejected:e.catch&&(i=e.catch(t.value));break;default:o(!1,"Unknown status: '"+t.status+"'")}return i},z.contextTypes={form:e.instanceOf(T).isRequired,fieldFeedbacks:e.instanceOf(P).isRequired},z.childContextTypes={async:e.instanceOf(z).isRequired},z);function z(){var r=null!==K&&K.apply(this,arguments)||this;return r.state={status:s.Status.None},r.validate=function(e){var t,i=r.context,n=i.form,i=i.fieldFeedbacks,n=n.fieldsStore.getField(e.name);return"first"===i.props.stop&&n.hasFeedbacks(i.key)||"first-error"===i.props.stop&&n.hasErrors(i.key)||"first-warning"===i.props.stop&&n.hasWarnings(i.key)||"first-info"===i.props.stop&&n.hasInfos(i.key)?r.setState({status:s.Status.None}):t=r._validate(e),t},r}var J,G=(r(H,J=l.Component),H.prototype.componentDidMount=function(){this.context.form.addFieldWillValidateEventListener(this.fieldWillValidate),this.context.form.addFieldDidValidateEventListener(this.fieldDidValidate),this.context.form.addFieldDidResetEventListener(this.fieldDidReset)},H.prototype.componentWillUnmount=function(){this.context.form.removeFieldWillValidateEventListener(this.fieldWillValidate),this.context.form.removeFieldDidValidateEventListener(this.fieldDidValidate),this.context.form.removeFieldDidResetEventListener(this.fieldDidReset)},H.prototype.render=function(){var e=this.props,t=e.style,e=c(e,["style"]);return this.state.fieldIsValid?l.createElement("span",d({},e,{style:d({display:"block"},t)})):null},H.contextTypes={form:e.instanceOf(T).isRequired,fieldFeedbacks:e.instanceOf(P).isRequired},H);function H(){var t=null!==J&&J.apply(this,arguments)||this;return t.state={fieldIsValid:void 0},t.fieldWillValidate=function(e){e===t.context.fieldFeedbacks.fieldName&&t.setState({fieldIsValid:void 0})},t.fieldDidValidate=function(e){e.name===t.context.fieldFeedbacks.fieldName&&t.setState({fieldIsValid:e.isValid()})},t.fieldDidReset=function(e){e.name===t.context.fieldFeedbacks.fieldName&&t.setState({fieldIsValid:void 0})},t}var B,_=(r(Q,B=l.Component),Q.prototype.componentDidMount=function(){var e=this.context,t=e.form,i=e.fieldFeedbacks,e=e.async;(e||i).addValidateFieldEventListener(this.validate),t.addFieldDidResetEventListener(this.fieldDidReset)},Q.prototype.componentWillUnmount=function(){var e=this.context,t=e.form,i=e.fieldFeedbacks,e=e.async;(e||i).removeValidateFieldEventListener(this.validate),t.removeFieldDidResetEventListener(this.fieldDidReset)},Q.prototype.render=function(){var e=this.props,t=(e.when,e.error,e.warning,e.info,e.className),i=e.classes,n=e.style,r=e.children,a=c(e,["when","error","warning","info","className","classes","style","children"]),o=this.state,e=o.validation,o=o.validationMessage,i=i[e.type],i=void 0!==t?t+" "+i:i;if(e.type===s.FieldFeedbackType.WhenValid)return l.createElement(G,d({"data-feedback":this.key,style:n,className:i},a),r);if(e.show){o=void 0!==r?r:o;return l.createElement("span",d({"data-feedback":this.key,className:i,style:d({display:"block"},n)},a),o)}return null},Q.defaultProps={when:function(){return!0},classes:{error:"error",warning:"warning",info:"info",whenValid:"when-valid"}},Q.contextTypes={form:e.instanceOf(T).isRequired,fieldFeedbacks:e.instanceOf(P).isRequired,async:e.instanceOf(O)},Q);function Q(e,t){var a=B.call(this,e,t)||this;a.validate=function(e){var t=a.props.when,i=a.context,n=i.form,r=i.fieldFeedbacks,i=n.fieldsStore.getField(e.name),n=d({},a.state.validation);if("first"===r.props.stop&&i.hasFeedbacks(r.key)||"first-error"===r.props.stop&&i.hasErrors(r.key)||"first-warning"===r.props.stop&&i.hasWarnings(r.key)||"first-info"===r.props.stop&&i.hasInfos(r.key))n.show=void 0;else if(n.show=!1,"function"==typeof t)n.show=t(e.value);else{if("string"!=typeof t)throw new TypeError("Invalid FieldFeedback 'when' type: "+typeof t);"valid"===t?n.show=void 0:(r=e.validity).valid||("*"===t||r.badInput&&"badInput"===t||r.patternMismatch&&"patternMismatch"===t||r.rangeOverflow&&"rangeOverflow"===t||r.rangeUnderflow&&"rangeUnderflow"===t||r.stepMismatch&&"stepMismatch"===t||r.tooLong&&"tooLong"===t||r.tooShort&&"tooShort"===t||r.typeMismatch&&"typeMismatch"===t||r.valueMissing&&"valueMissing"===t)&&(n.show=!0)}return i.addOrReplaceValidation(n),a.setState({validation:n,validationMessage:e.validationMessage}),n},a.fieldDidReset=function(e){e.name===a.context.fieldFeedbacks.fieldName&&a.setState(function(e){return{validation:d(d({},e.validation),{show:void 0}),validationMessage:""}})},a.key=t.fieldFeedbacks.addFieldFeedback();var i=e.error,n=e.warning,r=e.info,t=e.when,e=s.FieldFeedbackType.Error;if("valid"===t?e=s.FieldFeedbackType.WhenValid:n?e=s.FieldFeedbackType.Warning:r&&(e=s.FieldFeedbackType.Info),e===s.FieldFeedbackType.WhenValid&&(i||n||r))throw new Error('Cannot have an attribute (error, warning...) with FieldFeedback when="valid"');return a.state={validation:{key:a.key,type:e,show:void 0},validationMessage:""},a}var X,e=(r(Y,X=l.Component),Y.prototype.componentDidMount=function(){this.context.form.addFieldWillValidateEventListener(this.fieldWillValidate),this.context.form.addFieldDidValidateEventListener(this.fieldDidValidate),this.context.form.addFieldDidResetEventListener(this.fieldDidReset)},Y.prototype.componentWillUnmount=function(){this.context.form.removeFieldWillValidateEventListener(this.fieldWillValidate),this.context.form.removeFieldDidValidateEventListener(this.fieldDidValidate),this.context.form.removeFieldDidResetEventListener(this.fieldDidReset)},Y.prototype.fieldValidationStates=function(){var e=this.state.field,t=[];return void 0!==e&&("pending"===e?t.push("isPending"):(e.hasErrors()&&t.push("hasErrors"),e.hasWarnings()&&t.push("hasWarnings"),e.hasInfos()&&t.push("hasInfos"),e.isValid()&&t.push("isValid"))),t},Y.prototype.render=function(){var e=this.props,t=e.innerRef,i=e.className,n=e.classes,r=c(e,["innerRef","className","classes"]),e=this.fieldValidationStates(),a=i;return e.forEach(function(e){e=n[e];void 0!==e&&(void 0!==a?a+=" "+e:a=e)}),l.createElement("input",d({ref:t},r,{className:a}))},Y.contextTypes={form:e.instanceOf(T).isRequired},Y.defaultProps={classes:{isPending:"is-pending",hasErrors:"has-errors",hasWarnings:"has-warnings",hasInfos:"has-infos",isValid:"is-valid"}},Y);function Y(){var t=null!==X&&X.apply(this,arguments)||this;return t.state={field:void 0},t.fieldWillValidate=function(e){e===t.props.name&&t.setState({field:"pending"})},t.fieldDidValidate=function(e){e.name===t.props.name&&t.setState({field:e})},t.fieldDidReset=function(e){e.name===t.props.name&&t.setState({field:void 0})},t}s.Async=O,s.EventEmitter=a,s.Field=p,s.FieldDidResetEvent=g,s.FieldDidValidateEvent=w,s.FieldFeedback=_,s.FieldFeedbackWhenValid=G,s.FieldFeedbacks=P,s.FieldWillValidateEvent=D,s.FieldsStore=y,s.FormWithConstraints=T,s.IValidityState=F,s.Input=e,s.InputElement=b,s.ValidateFieldEvent=S,s.assert=o,s.deepForEach=function t(e,i){l.Children.forEach(e,function(e){e.props&&e.props.children&&"object"==typeof e.props.children&&t(e.props.children,i),i(e)})},s.isHTMLInput=E,s.withFieldDidResetEventEmitter=k,s.withFieldDidValidateEventEmitter=V,s.withFieldWillValidateEventEmitter=L,s.withValidateFieldEventEmitter=R,Object.defineProperty(s,"__esModule",{value:!0})});
//# sourceMappingURL=react-form-with-constraints.production.min.js.map

{"version":3,"file":"withFieldDidValidateEventEmitter.js","sourceRoot":"","sources":["../src/withFieldDidValidateEventEmitter.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA,+CAA8C;AAGjC,QAAA,qBAAqB,GAAG,0BAA0B,CAAC;AAIhE,SAAgB,gCAAgC,CAAgC,IAAW;IAKzF;QAAkD,gDAAI;QAA/C;YAAA,qEAcN;YAbC,kCAA4B,GAAG,IAAI,2BAAY,EAAqC,CAAC;;QAavF,CAAC;QAXC,gEAAyB,GAAzB,UAA0B,KAAY;YACpC,OAAO,IAAI,CAAC,4BAA4B,CAAC,QAAQ,CAAC,6BAAqB,EAAE,KAAK,CAAC,CAAC;QAClF,CAAC;QAED,uEAAgC,GAAhC,UAAiC,QAAkB;YACjD,IAAI,CAAC,4BAA4B,CAAC,WAAW,CAAC,6BAAqB,EAAE,QAAQ,CAAC,CAAC;QACjF,CAAC;QAED,0EAAmC,GAAnC,UAAoC,QAAkB;YACpD,IAAI,CAAC,4BAA4B,CAAC,cAAc,CAAC,6BAAqB,EAAE,QAAQ,CAAC,CAAC;QACpF,CAAC;QACH,mCAAC;IAAD,CAAC,AAdM,CAA2C,IAAI,GAcpD;AACJ,CAAC;AApBD,4EAoBC","sourcesContent":["import { Constructor } from './Constructor';\nimport { EventEmitter } from './EventEmitter';\nimport { Field } from './Field';\n\nexport const FieldDidValidateEvent = 'FIELD_DID_VALIDATE_EVENT';\n\n// [TypeScript 2.2 Support for Mix-in classes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html)\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function withFieldDidValidateEventEmitter<TBase extends Constructor<{}>>(Base: TBase) {\n  type ListenerArg = Field;\n  type ListenerReturnType = void;\n  type Listener = (field: ListenerArg) => ListenerReturnType;\n\n  return class FieldDidValidateEventEmitter extends Base {\n    fieldDidValidateEventEmitter = new EventEmitter<[ListenerArg], ListenerReturnType>();\n\n    emitFieldDidValidateEvent(field: Field) {\n      return this.fieldDidValidateEventEmitter.emitSync(FieldDidValidateEvent, field);\n    }\n\n    addFieldDidValidateEventListener(listener: Listener) {\n      this.fieldDidValidateEventEmitter.addListener(FieldDidValidateEvent, listener);\n    }\n\n    removeFieldDidValidateEventListener(listener: Listener) {\n      this.fieldDidValidateEventEmitter.removeListener(FieldDidValidateEvent, listener);\n    }\n  };\n}\n"]}
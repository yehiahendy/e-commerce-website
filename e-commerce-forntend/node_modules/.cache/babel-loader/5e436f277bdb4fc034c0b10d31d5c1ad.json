{"ast":null,"code":"import { API } from './../config';\nexport const update = (userId, token, user) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: 'PUT',\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    return response.json();\n  }).catch(error => console.log(error));\n};\nexport const readProfile = (userId, token) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(error => console.log(error));\n};\nexport const updateProfile = (user, next) => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('jwt')) {\n      let auth = JSON.parse(localStorage.getItem('jwt'));\n      auth.user = user;\n      localStorage.setItem('jwt', JSON.stringify(auth));\n      next();\n    }\n  }\n};","map":{"version":3,"sources":["D:/Work/Zag System summer Training/e-commerce-website/e-commerce-forntend/src/user/apiUser.jsx"],"names":["API","update","userId","token","user","fetch","method","headers","Authorization","body","JSON","stringify","then","response","json","catch","error","console","log","readProfile","Accept","updateProfile","next","window","localStorage","getItem","auth","parse","setItem"],"mappings":"AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,OAAO,MAAMC,MAAM,GAAG,CAACC,MAAD,EAAQC,KAAR,EAAcC,IAAd,KAAuB;AACzC,SAAOC,KAAK,CAAE,GAAEL,GAAI,SAAQE,MAAO,EAAvB,EAA0B;AAClCI,IAAAA,MAAM,EAAE,KAD0B;AAElCC,IAAAA,OAAO,EAAE;AAELC,MAAAA,aAAa,EAAG,UAASL,KAAM;AAF1B,KAFyB;AAMlCM,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;AAN4B,GAA1B,CAAL,CAQFQ,IARE,CAQGC,QAAQ,IAAI;AACd,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAVE,EAWFC,KAXE,CAWIC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAXb,CAAP;AAYH,CAbM;AAeP,OAAO,MAAMG,WAAW,GAAG,CAACjB,MAAD,EAAQC,KAAR,KAAkB;AACzC,SAAOE,KAAK,CAAE,GAAEL,GAAI,SAAQE,MAAO,EAAvB,EAA0B;AAClCI,IAAAA,MAAM,EAAE,KAD0B;AAElCC,IAAAA,OAAO,EAAE;AACLa,MAAAA,MAAM,EAAE,kBADH;AAELZ,MAAAA,aAAa,EAAG,UAASL,KAAM;AAF1B;AAFyB,GAA1B,CAAL,CAOFS,IAPE,CAOGC,QAAQ,IAAI;AACd,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GATE,EAUFC,KAVE,CAUIC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAVb,CAAP;AAWH,CAZM;AAcP,OAAO,MAAMK,aAAa,GAAG,CAACjB,IAAD,EAAMkB,IAAN,KAAe;AACxC,MAAG,OAAOC,MAAP,KAAkB,WAArB,EACA;AACI,QAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAH,EACA;AACI,UAAIC,IAAI,GAAGhB,IAAI,CAACiB,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAX;AACAC,MAAAA,IAAI,CAACtB,IAAL,GAAYA,IAAZ;AACAoB,MAAAA,YAAY,CAACI,OAAb,CAAqB,KAArB,EAA2BlB,IAAI,CAACC,SAAL,CAAee,IAAf,CAA3B;AACAJ,MAAAA,IAAI;AACP;AACJ;AACJ,CAXM","sourcesContent":["import { API } from './../config';\r\nexport const update = (userId,token,user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(error => console.log(error));\r\n};\r\n\r\nexport const readProfile = (userId,token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(error => console.log(error));\r\n};\r\n\r\nexport const updateProfile = (user,next) => {\r\n    if(typeof window !== 'undefined')\r\n    {\r\n        if(localStorage.getItem('jwt')) \r\n        {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user ;\r\n            localStorage.setItem('jwt',JSON.stringify(auth))\r\n            next();\r\n        } \r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}
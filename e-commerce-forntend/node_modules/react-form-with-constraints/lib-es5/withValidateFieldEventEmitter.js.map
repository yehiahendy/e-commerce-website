{"version":3,"file":"withValidateFieldEventEmitter.js","sourceRoot":"","sources":["../src/withValidateFieldEventEmitter.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA,+CAA8C;AAGjC,QAAA,kBAAkB,GAAG,sBAAsB,CAAC;AAIzD,SAAgB,6BAA6B,CAC3C,IAAW;IAKX;QAA+C,6CAAI;QAA5C;YAAA,qEAcN;YAbC,+BAAyB,GAAG,IAAI,2BAAY,EAAqC,CAAC;;QAapF,CAAC;QAXC,0DAAsB,GAAtB,UAAuB,KAAmB;YACxC,OAAO,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,0BAAkB,EAAE,KAAK,CAAC,CAAC;QAC7E,CAAC;QAED,iEAA6B,GAA7B,UAA8B,QAAkB;YAC9C,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,0BAAkB,EAAE,QAAQ,CAAC,CAAC;QAC3E,CAAC;QAED,oEAAgC,GAAhC,UAAiC,QAAkB;YACjD,IAAI,CAAC,yBAAyB,CAAC,cAAc,CAAC,0BAAkB,EAAE,QAAQ,CAAC,CAAC;QAC9E,CAAC;QACH,gCAAC;IAAD,CAAC,AAdM,CAAwC,IAAI,GAcjD;AACJ,CAAC;AArBD,sEAqBC","sourcesContent":["import { Constructor } from './Constructor';\nimport { EventEmitter } from './EventEmitter';\nimport { InputElement } from './InputElement';\n\nexport const ValidateFieldEvent = 'VALIDATE_FIELD_EVENT';\n\n// [TypeScript 2.2 Support for Mix-in classes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html)\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function withValidateFieldEventEmitter<ListenerReturnType, TBase extends Constructor<{}>>(\n  Base: TBase\n) {\n  type ListenerArg = InputElement;\n  type Listener = (input: ListenerArg) => ListenerReturnType | Promise<ListenerReturnType>;\n\n  return class ValidateFieldEventEmitter extends Base {\n    validateFieldEventEmitter = new EventEmitter<[ListenerArg], ListenerReturnType>();\n\n    emitValidateFieldEvent(input: InputElement) {\n      return this.validateFieldEventEmitter.emitAsync(ValidateFieldEvent, input);\n    }\n\n    addValidateFieldEventListener(listener: Listener) {\n      this.validateFieldEventEmitter.addListener(ValidateFieldEvent, listener);\n    }\n\n    removeValidateFieldEventListener(listener: Listener) {\n      this.validateFieldEventEmitter.removeListener(ValidateFieldEvent, listener);\n    }\n  };\n}\n"]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Zag System summer Training\\\\e-commerce-website\\\\e-commerce-forntend\\\\src\\\\admin\\\\AddProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticate } from '../user/auth';\nimport { AddNewProduct, getCategory } from './apiAdmin';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    user,\n    token\n  } = isAuthenticate();\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    categories: '',\n    Quentity: '',\n    photo: '',\n    shipping: '',\n    erro: '',\n    loading: false,\n    createdProduct: '',\n    redirectToProfile: '',\n    formData: ''\n  });\n  const {\n    name,\n    description,\n    price,\n    category,\n    error,\n    categories,\n    Quentity,\n    shipping,\n    loading,\n    createdProduct,\n    redirectToProfile,\n    formData\n  } = values;\n\n  const init = () => {\n    getCategory().then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const onChangeHandeler = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const onClickHandler = e => {\n    e.preventDefault();\n    setValues({ ...values,\n      loading: true\n    });\n    AddNewProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n        return data.error;\n      } else {\n        setValues({ ...values,\n          name: '',\n          description: '',\n          price: '',\n          category: '',\n          Quentity: '',\n          photo: '',\n          shipping: '',\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const showSuccess = () => {\n    if (!error) {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-success\",\n        children: [\"`$\", createdProduct, \" is created` \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const showError = () => {\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-danger\",\n        children: \"This Category is exit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this);\n    }\n  };\n\n  const goBack = () => {\n    if (success) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/dashboard\",\n          className: \"text-warning\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this);\n    }\n  };\n\n  const creatUi = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-3\",\n      onSubmit: onClickHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Upload Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn btn-secondary\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            name: \"photo\",\n            onChange: onChangeHandeler('photo')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: name,\n          onChange: onChangeHandeler('name')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"descreption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"textarea\",\n          className: \"form-control\",\n          value: description,\n          onChange: onChangeHandeler('description')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"price\",\n          className: \"form-control\",\n          value: price,\n          onChange: onChangeHandeler('price')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: category,\n          onChange: onChangeHandeler('category'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please select the category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this), categories && categories.map((c, i) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c._id,\n              children: c.name\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 28\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Shipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: shipping,\n          onChange: onChangeHandeler('shipping'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please select the shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Quentity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Number\",\n          className: \"form-control\",\n          value: Quentity,\n          onChange: onChangeHandeler('Quentity')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Add New Product \",\n    discreption: \"Are you ready to add new product ? \",\n    className: \"container col-md-8 offset-md-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 offset-md-2\",\n        children: creatUi()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), JSON.stringify(values.photo)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"fzbLiJWd0NhOrvrL6vziucLEjAE=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["D:/Work/Zag System summer Training/e-commerce-website/e-commerce-forntend/src/admin/AddProduct.jsx"],"names":["React","useState","useEffect","Layout","isAuthenticate","AddNewProduct","getCategory","Link","AddProduct","user","token","values","setValues","name","description","price","category","categories","Quentity","photo","shipping","erro","loading","createdProduct","redirectToProfile","formData","error","init","then","data","FormData","onChangeHandeler","event","value","target","files","set","onClickHandler","e","preventDefault","_id","showSuccess","showError","goBack","success","creatUi","map","c","i","JSON","stringify"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticate } from '../user/auth';\r\nimport { AddNewProduct, getCategory } from './apiAdmin';\r\nimport { Link } from 'react-router-dom';\r\nconst AddProduct = () => {\r\n    const {user,token} = isAuthenticate()\r\n    const [values,setValues] = useState({\r\n        name: '',\r\n        description : '',\r\n        price : '',\r\n        category : '',\r\n        categories : '',\r\n        Quentity: '',\r\n        photo: '',\r\n        shipping : '',\r\n        erro: '',\r\n        loading : false, \r\n        createdProduct : '',\r\n        redirectToProfile: '',\r\n        formData: ''\r\n    }); \r\n    const {\r\n        name,\r\n        description,\r\n        price ,\r\n        category ,\r\n        error,\r\n        categories,\r\n        Quentity,\r\n        shipping , \r\n        loading , \r\n        createdProduct ,\r\n        redirectToProfile,\r\n        formData\r\n    } = values\r\n    const init = () => {\r\n        getCategory()\r\n        .then(data => {\r\n            if(data.error)\r\n            {\r\n                setValues({...values,error: data.error});\r\n            }\r\n            else\r\n            {\r\n                setValues({...values,categories:data,formData: new FormData()})\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        init();\r\n    },[])\r\n    const onChangeHandeler = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value ;\r\n        formData.set(name,value)\r\n        setValues({...values,[name] : value})\r\n    }\r\n    const onClickHandler = (e) => {\r\n\r\n        e.preventDefault();\r\n        setValues({...values,loading: true})\r\n\r\n        AddNewProduct(user._id,token,formData)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                setValues({...values,error : data.error})\r\n                return data.error\r\n            }\r\n            else {\r\n                setValues({...values,\r\n                    name: '',\r\n                    description : '',\r\n                    price : '',\r\n                    category : '',\r\n                    Quentity: '',\r\n                    photo: '',\r\n                    shipping : '', \r\n                    loading : false, \r\n                    createdProduct: data.name\r\n                })\r\n            }\r\n        })\r\n    }\r\n    const showSuccess = () => {\r\n        if(!error)\r\n        {\r\n        return (<h3 className = \"text-success\">`${createdProduct} is created` </h3>);\r\n        }\r\n}\r\nconst showError = () => {\r\n    if(error)\r\n    {\r\n    return (<h3 className = \"text-danger\">This Category is exit</h3>);\r\n    }\r\n}\r\nconst goBack = () => {\r\n    if(success) \r\n    {\r\n        return(\r\n            <div className = \"mt-5\">\r\n                <Link to = '/admin/dashboard' className =\"text-warning\" >Back to Dashboard</Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n    const creatUi = () => {\r\n        return(\r\n            <form className = \"mb-3\" onSubmit = {onClickHandler} >\r\n            <h3>Upload Photo</h3>\r\n            <div className=\"form-group\">\r\n                <label className = \"btn btn-secondary\" >\r\n                <input type = \"file\" accept = \"image/*\" name = 'photo'  onChange = {onChangeHandeler('photo')}/>\r\n                </label>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">name</label>\r\n                <input type = \"text\"  className =\"form-control\" value = {name} onChange = {onChangeHandeler('name')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">descreption</label>\r\n                <input type = \"textarea\"  className =\"form-control\" value = {description} onChange = {onChangeHandeler('description')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">price</label>\r\n                <input type = \"price\"  className =\"form-control\" value = {price} onChange = {onChangeHandeler('price')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Category</label>\r\n                <select className = \"form-control\" value = {category} onChange = {onChangeHandeler('category')}> \r\n                    <option>Please select the category</option>\r\n                    {categories && categories.map((c,i) => {\r\n                    return(<option key = {i} value = {c._id}>{c.name}</option>);\r\n                    \r\n                    })}\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Shipping</label>\r\n                <select className = \"form-control\" value = {shipping} onChange = {onChangeHandeler('shipping')}>\r\n                <option>Please select the shipping</option>\r\n                    <option value = \"0\">No</option>\r\n                    <option value = \"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Quentity</label>\r\n                <input type = \"Number\"  className =\"form-control\" value = {Quentity} onChange = {onChangeHandeler('Quentity')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n            <button className = \"btn btn-primary\">Submit</button>\r\n            </div>\r\n            \r\n        </form>\r\n        );\r\n    }\r\n    return (\r\n        <Layout title = 'Add New Product '  discreption = \"Are you ready to add new product ? \"  className =\"container col-md-8 offset-md-2\">\r\n            <div className = \"row\">\r\n                <div className = \"col-md-8 offset-md-2\">{creatUi()}</div>\r\n                </div>\r\n                {JSON.stringify(values.photo)}\r\n        </Layout>\r\n    );\r\n}\r\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}
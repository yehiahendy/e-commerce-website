{"version":3,"file":"withFieldWillValidateEventEmitter.js","sourceRoot":"","sources":["../src/withFieldWillValidateEventEmitter.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA,+CAA8C;AAEjC,QAAA,sBAAsB,GAAG,2BAA2B,CAAC;AAIlE,SAAgB,iCAAiC,CAAgC,IAAW;IAK1F;QAAmD,iDAAI;QAAhD;YAAA,qEAcN;YAbC,mCAA6B,GAAG,IAAI,2BAAY,EAAqC,CAAC;;QAaxF,CAAC;QAXC,kEAA0B,GAA1B,UAA2B,SAAiB;YAC1C,OAAO,IAAI,CAAC,6BAA6B,CAAC,QAAQ,CAAC,8BAAsB,EAAE,SAAS,CAAC,CAAC;QACxF,CAAC;QAED,yEAAiC,GAAjC,UAAkC,QAAkB;YAClD,IAAI,CAAC,6BAA6B,CAAC,WAAW,CAAC,8BAAsB,EAAE,QAAQ,CAAC,CAAC;QACnF,CAAC;QAED,4EAAoC,GAApC,UAAqC,QAAkB;YACrD,IAAI,CAAC,6BAA6B,CAAC,cAAc,CAAC,8BAAsB,EAAE,QAAQ,CAAC,CAAC;QACtF,CAAC;QACH,oCAAC;IAAD,CAAC,AAdM,CAA4C,IAAI,GAcrD;AACJ,CAAC;AApBD,8EAoBC","sourcesContent":["import { Constructor } from './Constructor';\nimport { EventEmitter } from './EventEmitter';\n\nexport const FieldWillValidateEvent = 'FIELD_WILL_VALIDATE_EVENT';\n\n// [TypeScript 2.2 Support for Mix-in classes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html)\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function withFieldWillValidateEventEmitter<TBase extends Constructor<{}>>(Base: TBase) {\n  type ListenerArg = string;\n  type ListenerReturnType = void;\n  type Listener = (fieldName: ListenerArg) => ListenerReturnType;\n\n  return class FieldWillValidateEventEmitter extends Base {\n    fieldWillValidateEventEmitter = new EventEmitter<[ListenerArg], ListenerReturnType>();\n\n    emitFieldWillValidateEvent(fieldName: string) {\n      return this.fieldWillValidateEventEmitter.emitSync(FieldWillValidateEvent, fieldName);\n    }\n\n    addFieldWillValidateEventListener(listener: Listener) {\n      this.fieldWillValidateEventEmitter.addListener(FieldWillValidateEvent, listener);\n    }\n\n    removeFieldWillValidateEventListener(listener: Listener) {\n      this.fieldWillValidateEventEmitter.removeListener(FieldWillValidateEvent, listener);\n    }\n  };\n}\n"]}
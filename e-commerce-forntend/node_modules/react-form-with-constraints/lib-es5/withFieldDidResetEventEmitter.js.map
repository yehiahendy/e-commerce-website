{"version":3,"file":"withFieldDidResetEventEmitter.js","sourceRoot":"","sources":["../src/withFieldDidResetEventEmitter.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA,+CAA8C;AAGjC,QAAA,kBAAkB,GAAG,uBAAuB,CAAC;AAI1D,SAAgB,6BAA6B,CAAgC,IAAW;IAKtF;QAA2C,yCAAI;QAAxC;YAAA,qEAcN;YAbC,+BAAyB,GAAG,IAAI,2BAAY,EAAqC,CAAC;;QAapF,CAAC;QAXC,sDAAsB,GAAtB,UAAuB,KAAY;YACjC,OAAO,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,0BAAkB,EAAE,KAAK,CAAC,CAAC;QAC5E,CAAC;QAED,6DAA6B,GAA7B,UAA8B,QAAkB;YAC9C,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,0BAAkB,EAAE,QAAQ,CAAC,CAAC;QAC3E,CAAC;QAED,gEAAgC,GAAhC,UAAiC,QAAkB;YACjD,IAAI,CAAC,yBAAyB,CAAC,cAAc,CAAC,0BAAkB,EAAE,QAAQ,CAAC,CAAC;QAC9E,CAAC;QACH,4BAAC;IAAD,CAAC,AAdM,CAAoC,IAAI,GAc7C;AACJ,CAAC;AApBD,sEAoBC","sourcesContent":["import { Constructor } from './Constructor';\nimport { EventEmitter } from './EventEmitter';\nimport { Field } from './Field';\n\nexport const FieldDidResetEvent = 'FIELD_DID_RESET_EVENT';\n\n// [TypeScript 2.2 Support for Mix-in classes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html)\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function withFieldDidResetEventEmitter<TBase extends Constructor<{}>>(Base: TBase) {\n  type ListenerArg = Field;\n  type ListenerReturnType = void;\n  type Listener = (field: ListenerArg) => ListenerReturnType;\n\n  return class ResetFieldEvenEmitter extends Base {\n    fieldDidResetEventEmitter = new EventEmitter<[ListenerArg], ListenerReturnType>();\n\n    emitFieldDidResetEvent(field: Field) {\n      return this.fieldDidResetEventEmitter.emitSync(FieldDidResetEvent, field);\n    }\n\n    addFieldDidResetEventListener(listener: Listener) {\n      this.fieldDidResetEventEmitter.addListener(FieldDidResetEvent, listener);\n    }\n\n    removeFieldDidResetEventListener(listener: Listener) {\n      this.fieldDidResetEventEmitter.removeListener(FieldDidResetEvent, listener);\n    }\n  };\n}\n"]}
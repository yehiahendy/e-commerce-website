{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Zag System summer Training\\\\e-commerce-website\\\\e-commerce-forntend\\\\src\\\\admin\\\\AddProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticate } from '../user/auth';\nimport { AddNewProduct, getCategory } from './apiAdmin';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    user,\n    token\n  } = isAuthenticate();\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    categories: '',\n    Quentity: '',\n    photo: '',\n    shipping: '',\n    loading: false,\n    createdProduct: '',\n    redirectToProfile: '',\n    formData: ''\n  });\n  const {\n    name,\n    description,\n    price,\n    category,\n    categories,\n    Quentity,\n    shipping,\n    loading,\n    createdProduct,\n    redirectToProfile,\n    formData\n  } = values;\n\n  const init = () => {\n    getCategory().then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const onChangeHandeler = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const onClickHandler = e => {\n    e.preventDefault();\n    setValues({ ...values,\n      loading: true\n    });\n    AddNewProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n        return data.error;\n      } else {\n        setValues({ ...values,\n          name: '',\n          description: '',\n          price: '',\n          category: '',\n          Quentity: '',\n          photo: '',\n          shipping: '',\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const creatUi = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-3\",\n      onSubmit: onClickHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Upload Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn btn-secondary\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            name: \"photo\",\n            onChange: onChangeHandeler('photo')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: name,\n          onChange: onChangeHandeler('name')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"descreption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"textarea\",\n          className: \"form-control\",\n          value: description,\n          onChange: onChangeHandeler('description')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"price\",\n          className: \"form-control\",\n          value: price,\n          onChange: onChangeHandeler('price')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: category,\n          onChange: onChangeHandeler('category'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please select the category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this), categories && categories.map((c, i) => {\n            /*#__PURE__*/\n            _jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"Hiii\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Shipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: shipping,\n          onChange: onChangeHandeler('shipping'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Quentity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Number\",\n          className: \"form-control\",\n          value: Quentity,\n          onChange: onChangeHandeler('Quentity')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Add New Product \",\n    discreption: \"Are you ready to add new product ? \",\n    className: \"container col-md-8 offset-md-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 offset-md-2\",\n        children: creatUi()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), JSON.stringify(values.photo)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"rzlXpZxAg6oozoH72aREXDJBe/I=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["D:/Work/Zag System summer Training/e-commerce-website/e-commerce-forntend/src/admin/AddProduct.jsx"],"names":["React","useState","useEffect","Layout","isAuthenticate","AddNewProduct","getCategory","Link","AddProduct","user","token","values","setValues","name","description","price","category","categories","Quentity","photo","shipping","loading","createdProduct","redirectToProfile","formData","init","then","data","error","FormData","onChangeHandeler","event","value","target","files","set","onClickHandler","e","preventDefault","_id","creatUi","map","c","i","JSON","stringify"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticate } from '../user/auth';\r\nimport { AddNewProduct, getCategory } from './apiAdmin';\r\nimport { Link } from 'react-router-dom';\r\nconst AddProduct = () => {\r\n    const {user,token} = isAuthenticate()\r\n    const [values,setValues] = useState({\r\n        name: '',\r\n        description : '',\r\n        price : '',\r\n        category : '',\r\n        categories : '',\r\n        Quentity: '',\r\n        photo: '',\r\n        shipping : '', \r\n        loading : false, \r\n        createdProduct : '',\r\n        redirectToProfile: '',\r\n        formData: ''\r\n    }); \r\n    const {\r\n        name,\r\n        description,\r\n        price ,\r\n        category ,\r\n        categories,\r\n        Quentity,\r\n        shipping , \r\n        loading , \r\n        createdProduct ,\r\n        redirectToProfile,\r\n        formData\r\n    } = values\r\n    const init = () => {\r\n        getCategory()\r\n        .then(data => {\r\n            if(data.error)\r\n            {\r\n                setValues({...values,error: data.error});\r\n            }\r\n            else\r\n            {\r\n                setValues({...values,categories:data,formData: new FormData()})\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        init();\r\n    },[])\r\n    const onChangeHandeler = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value ;\r\n        formData.set(name,value)\r\n        setValues({...values,[name] : value})\r\n    }\r\n    const onClickHandler = (e) => {\r\n\r\n        e.preventDefault();\r\n        setValues({...values,loading: true})\r\n\r\n        AddNewProduct(user._id,token,formData)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                setValues({...values,error : data.error})\r\n                return data.error\r\n            }\r\n            else {\r\n                setValues({...values,\r\n                    name: '',\r\n                    description : '',\r\n                    price : '',\r\n                    category : '',\r\n                    Quentity: '',\r\n                    photo: '',\r\n                    shipping : '', \r\n                    loading : false, \r\n                    createdProduct: data.name\r\n                })\r\n            }\r\n        })\r\n    }\r\n    const creatUi = () => {\r\n        return(\r\n            <form className = \"mb-3\" onSubmit = {onClickHandler} >\r\n            <h3>Upload Photo</h3>\r\n            <div className=\"form-group\">\r\n                <label className = \"btn btn-secondary\" >\r\n                <input type = \"file\" accept = \"image/*\" name = 'photo'  onChange = {onChangeHandeler('photo')}/>\r\n                </label>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">name</label>\r\n                <input type = \"text\"  className =\"form-control\" value = {name} onChange = {onChangeHandeler('name')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">descreption</label>\r\n                <input type = \"textarea\"  className =\"form-control\" value = {description} onChange = {onChangeHandeler('description')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">price</label>\r\n                <input type = \"price\"  className =\"form-control\" value = {price} onChange = {onChangeHandeler('price')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Category</label>\r\n                <select className = \"form-control\" value = {category} onChange = {onChangeHandeler('category')}> \r\n                    <option>Please select the category</option>\r\n                    {categories && categories.map((c,i) => {\r\n                    \r\n                    <option value = \"0\">Hiii</option>\r\n                    })}\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Shipping</label>\r\n                <select className = \"form-control\" value = {shipping} onChange = {onChangeHandeler('shipping')}>\r\n                    <option value=''></option>\r\n                    <option value = \"0\">No</option>\r\n                    <option value = \"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Quentity</label>\r\n                <input type = \"Number\"  className =\"form-control\" value = {Quentity} onChange = {onChangeHandeler('Quentity')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n            <button className = \"btn btn-primary\">Submit</button>\r\n            </div>\r\n            \r\n        </form>\r\n        );\r\n    }\r\n    return (\r\n        <Layout title = 'Add New Product '  discreption = \"Are you ready to add new product ? \"  className =\"container col-md-8 offset-md-2\">\r\n            <div className = \"row\">\r\n                <div className = \"col-md-8 offset-md-2\">{creatUi()}</div>\r\n                </div>\r\n                {JSON.stringify(values.photo)}\r\n        </Layout>\r\n    );\r\n}\r\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}
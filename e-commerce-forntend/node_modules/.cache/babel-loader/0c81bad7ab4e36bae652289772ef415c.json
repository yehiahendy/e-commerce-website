{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Zag System summer Training\\\\e-commerce-website\\\\e-commerce-forntend\\\\src\\\\admin\\\\AddProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticate } from '../user/auth';\nimport { AddNewProduct, getCategory } from './apiAdmin';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    user,\n    token\n  } = isAuthenticate();\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    categories: '',\n    Quentity: '',\n    photo: '',\n    shipping: '',\n    error: '',\n    sold: 0,\n    loading: false,\n    createdProduct: '',\n    redirectToProfile: '',\n    formData: ''\n  });\n  const {\n    name,\n    description,\n    price,\n    category,\n    error,\n    categories,\n    Quentity,\n    shipping,\n    sold,\n    loading,\n    createdProduct,\n    redirectToProfile,\n    formData\n  } = values;\n\n  const init = () => {\n    getCategory().then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const onChangeHandeler = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const onClickHandler = e => {\n    e.preventDefault();\n    setValues({ ...values,\n      error: '',\n      loading: true\n    });\n    AddNewProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n        return data.error;\n      } else {\n        setValues({ ...values,\n          name: '',\n          description: '',\n          price: '',\n          category: '',\n          Quentity: '',\n          photo: '',\n          shipping: '',\n          sold: 0,\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const showError = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n\n  const showSuccess = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: createdProduct ? '' : 'none'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [`${createdProduct}`, \" is created!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n\n  const showLoading = () => loading && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-success\",\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 13\n  }, this);\n  /*const goBack = () => {\r\n      if(success) \r\n      {\r\n          return(\r\n              <div className = \"mt-5\">\r\n                  <Link to = '/admin/dashboard' className =\"text-warning\" >Back to Dashboard</Link>\r\n              </div>\r\n          );\r\n      }\r\n  }*/\n\n\n  const creatUi = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-3\",\n      onSubmit: onClickHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Upload Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn btn-secondary\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            name: \"photo\",\n            onChange: onChangeHandeler('photo')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: name,\n          onChange: onChangeHandeler('name')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"descreption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"textarea\",\n          className: \"form-control\",\n          value: description,\n          onChange: onChangeHandeler('description')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"price\",\n          className: \"form-control\",\n          value: price,\n          onChange: onChangeHandeler('price')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: category,\n          onChange: onChangeHandeler('category'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please select the category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this), categories && categories.map((c, i) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c._id,\n              children: c.name\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 28\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Shipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: shipping,\n          onChange: onChangeHandeler('shipping'),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please select the shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"Quentity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Number\",\n          className: \"form-control\",\n          value: Quentity,\n          onChange: onChangeHandeler('Quentity')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted \",\n          children: \"sold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Number\",\n          className: \"form-control\",\n          value: sold,\n          onChange: onChangeHandeler('sold')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Add New Product \",\n    discreption: \"Are you ready to add new product ? \",\n    className: \"container col-md-8 offset-md-2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 offset-md-2\",\n        children: [showError(), showSuccess(), creatUi()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"wUWRAh7h6moQSCkhljDZtTGT4R4=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["D:/Work/Zag System summer Training/e-commerce-website/e-commerce-forntend/src/admin/AddProduct.jsx"],"names":["React","useState","useEffect","Layout","isAuthenticate","AddNewProduct","getCategory","Link","AddProduct","user","token","values","setValues","name","description","price","category","categories","Quentity","photo","shipping","error","sold","loading","createdProduct","redirectToProfile","formData","init","then","data","FormData","onChangeHandeler","event","value","target","files","set","onClickHandler","e","preventDefault","_id","showError","display","showSuccess","showLoading","creatUi","map","c","i"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticate } from '../user/auth';\r\nimport { AddNewProduct, getCategory } from './apiAdmin';\r\nimport { Link } from 'react-router-dom';\r\nconst AddProduct = () => {\r\n    const {user,token} = isAuthenticate()\r\n    const [values,setValues] = useState({\r\n        name: '',\r\n        description : '',\r\n        price : '',\r\n        category : '',\r\n        categories : '',\r\n        Quentity: '',\r\n        photo: '',\r\n        shipping : '',\r\n        error: '',\r\n        sold: 0,\r\n        loading : false, \r\n        createdProduct : '',\r\n        redirectToProfile: '',\r\n        formData: ''\r\n    }); \r\n    const {\r\n        name,\r\n        description,\r\n        price ,\r\n        category ,\r\n        error,\r\n        categories,\r\n        Quentity,\r\n        shipping ,\r\n        sold, \r\n        loading , \r\n        createdProduct ,\r\n        redirectToProfile,\r\n        formData\r\n    } = values\r\n    const init = () => {\r\n        getCategory()\r\n        .then(data => {\r\n            if(data.error)\r\n            {\r\n                setValues({...values,error: data.error});\r\n            }\r\n            else\r\n            {\r\n                setValues({...values,categories:data,formData: new FormData()})\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        init();\r\n    },[])\r\n    const onChangeHandeler = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value ;\r\n        formData.set(name,value)\r\n        setValues({...values,[name] : value})\r\n    }\r\n    const onClickHandler = (e) => {\r\n\r\n        e.preventDefault();\r\n        setValues({...values,error:'',loading: true})\r\n        AddNewProduct(user._id,token,formData)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                setValues({...values,error : data.error})\r\n                return data.error\r\n            }\r\n            else {\r\n                setValues({...values,\r\n                    name: '',\r\n                    description : '',\r\n                    price : '',\r\n                    category : '',\r\n                    Quentity: '',\r\n                    photo: '',\r\n                    shipping : '', \r\n                    sold: 0,\r\n                    loading : false, \r\n                    createdProduct: data.name\r\n                })\r\n            }\r\n        })\r\n    }\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is created!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n/*const goBack = () => {\r\n    if(success) \r\n    {\r\n        return(\r\n            <div className = \"mt-5\">\r\n                <Link to = '/admin/dashboard' className =\"text-warning\" >Back to Dashboard</Link>\r\n            </div>\r\n        );\r\n    }\r\n}*/\r\n    const creatUi = () => {\r\n        return(\r\n            <form className = \"mb-3\" onSubmit = {onClickHandler} >\r\n            <h3>Upload Photo</h3>\r\n            <div className=\"form-group\">\r\n                <label className = \"btn btn-secondary\" >\r\n                <input type = \"file\" accept = \"image/*\" name = 'photo'  onChange = {onChangeHandeler('photo')}/>\r\n                </label>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">name</label>\r\n                <input type = \"text\"  className =\"form-control\" value = {name} onChange = {onChangeHandeler('name')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">descreption</label>\r\n                <input type = \"textarea\"  className =\"form-control\" value = {description} onChange = {onChangeHandeler('description')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">price</label>\r\n                <input type = \"price\"  className =\"form-control\" value = {price} onChange = {onChangeHandeler('price')} ></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Category</label>\r\n                <select className = \"form-control\" value = {category} onChange = {onChangeHandeler('category')}> \r\n                    <option>Please select the category</option>\r\n                    {categories && categories.map((c,i) => {\r\n                    return(<option key = {i} value = {c._id}>{c.name}</option>);\r\n                    \r\n                    })}\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Shipping</label>\r\n                <select className = \"form-control\" value = {shipping} onChange = {onChangeHandeler('shipping')}>\r\n                <option>Please select the shipping</option>\r\n                    <option value = \"0\">No</option>\r\n                    <option value = \"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">Quentity</label>\r\n                <input type = \"Number\"  className =\"form-control\" value = {Quentity} onChange = {onChangeHandeler('Quentity')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n                <label className =\"text-muted \">sold</label>\r\n                <input type = \"Number\"  className =\"form-control\" value = {sold} onChange = {onChangeHandeler('sold')}></input>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"form-group\">\r\n            <button className = \"btn btn-primary\">Submit</button>\r\n            </div>\r\n            \r\n        </form>\r\n        );\r\n    }\r\n    return (\r\n        <Layout title = 'Add New Product '  discreption = \"Are you ready to add new product ? \"  className =\"container col-md-8 offset-md-2\">\r\n            <div className = \"row\">\r\n                <div className = \"col-md-8 offset-md-2\">\r\n                    {showError()}\r\n                    {showSuccess()}\r\n                    {creatUi()}\r\n                </div>\r\n                </div>\r\n        </Layout>\r\n    );\r\n}\r\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}